{"version":3,"sources":["../../src/api/index.js"],"names":["app","get","checkAuth","req","res","send","user","logout","redirect","passport","authenticate","failureRedirect","cook"],"mappings":";;;;;;AAAA;;AAGA;;;;AACA;;;;;;kBAEe,YAAM;AACnB,MAAMA,MAAM,sBAAZ;AACAA,MAAIC,GAAJ,CAAQ,UAAR,EAAoBC,mBAApB,EAA+B,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3CA,QAAIC,IAAJ,CAAS;AACPC,YAAMH,IAAIG;AADH,KAAT;AAGD,GAJD;AAKAN,MAAIC,GAAJ,CAAQ,SAAR,EAAmB,UAACE,GAAD,EAAMC,GAAN,EAAc;AAAED,QAAII,MAAJ,GAAcH,IAAII,QAAJ,CAAa,GAAb;AAAoB,GAArE;AACA;AACAR,MAAIC,GAAJ,CAAQ,iBAAR,EACEQ,mBAASC,YAAT,CAAsB,UAAtB,CADF;AAEAV,MAAIC,GAAJ,CAAQ,oBAAR,EACEQ,mBAASC,YAAT,CAAsB,UAAtB,EAAkC;AAChCC,qBAAiB;AADe,GAAlC,CADF,EAIE,UAACR,GAAD,EAAMC,GAAN,EAAc;AACZA,QAAII,QAAJ,CAAa,GAAb;AACD,GANH;;AAQA;AACAR,MAAIC,GAAJ,CAAQ,gBAAR,EAA0BQ,mBAASC,YAAT,CAAsB,SAAtB,CAA1B;AACAV,MAAIC,GAAJ,CAAQ,mBAAR,EAA6BQ,mBAASC,YAAT,CAAsB,SAAtB,EAAiC;AAC5DC,qBAAiB;AAD2C,GAAjC,CAA7B,EAEI,UAACR,GAAD,EAAMC,GAAN,EAAc;AAChBA,QAAIQ,IAAJ;AACAR,QAAII,QAAJ,CAAa,GAAb;AACD,GALD;;AAOA;AACAR,MAAIC,GAAJ,CAAQ,eAAR,EACEQ,mBAASC,YAAT,CAAsB,QAAtB,CADF;AAEAV,MAAIC,GAAJ,CAAQ,kBAAR,EACEQ,mBAASC,YAAT,CAAsB,QAAtB,EAAgC;AAC9BC,qBAAiB;AADa,GAAhC,CADF,EAIE,UAACR,GAAD,EAAMC,GAAN,EAAc;AACZA,QAAII,QAAJ,CAAa,GAAb;AACD,GANH;AAOA,SAAOR,GAAP;AACD,C","file":"index.js","sourcesContent":["import {\n  Router,\n} from 'express';\nimport passport from 'passport';\nimport checkAuth from './checkAuth';\n\nexport default () => {\n  const app = Router();\n  app.get('/profile', checkAuth, (req, res) => {\n    res.send({\n      user: req.user,\n    });\n  });\n  app.get('/logout', (req, res) => { req.logout(); res.redirect('/'); });\n  // Facebook Login\n  app.get('/facebook/login',\n    passport.authenticate('facebook'));\n  app.get('/facebook/callback',\n    passport.authenticate('facebook', {\n      failureRedirect: '/error',\n    }),\n    (req, res) => {\n      res.redirect('/');\n    });\n\n  // Spotify Login\n  app.get('/spotify/login', passport.authenticate('spotify'));\n  app.get('/spotify/callback', passport.authenticate('spotify', {\n    failureRedirect: '/error',\n  }), (req, res) => {\n    res.cook;\n    res.redirect('/');\n  });\n\n  // Github Login\n  app.get('/github/login',\n    passport.authenticate('github'));\n  app.get('/github/callback',\n    passport.authenticate('github', {\n      failureRedirect: '/error',\n    }),\n    (req, res) => {\n      res.redirect('/');\n    });\n  return app;\n};\n"]}